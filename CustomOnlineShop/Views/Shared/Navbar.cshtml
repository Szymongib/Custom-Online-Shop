@using Microsoft.AspNetCore.Identity

<!-- Navigation -->
<nav class="navbar navbar-expand-lg sticky-top navbar-dark bg-dark" style="margin-top:-60px">
    <div class="container">
        
        <a class="navbar-brand" asp-action="Index" asp-controller="Home">Custom Online Shop</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <!-- If user is authenticated -->
                    @if (Context.User.Identity.IsAuthenticated)
                    {
                        <a class="nav-link" asp-controller="Account" asp-action="Logout">Logout</a>
                    }
                    else
                    {
                        <a class="nav-link" asp-controller="Account" asp-action="Login">Login</a>
                    }
                </li>
                <li class="nav-item">
                    <a  class="nav-link" asp-controller="Cart" asp-action="Index">
                        @await Component.InvokeAsync("CartComponent")
                    </a>
                </li>
                @if (Context.User.Identity.IsAuthenticated)
                {
                    <li class="nav-item">
                        <a class="nav-link" asp-controller="Account" asp-action="MyAccount"><i class="fa fa-user-circle-o" aria-hidden="true"></i> @Context.User.Identity.Name</a>
                    </li>
                }
                @if (Context.User.IsInRole("Admin"))
                {
                    <li class="nav-item">
                        <a class="nav-link text-danger" asp-controller="Admin" asp-action="Index"><i class="fa fa-address-card-o" aria-hidden="true"></i> Admin Panel</a>
                    </li>
                }
            </ul>
        </div>
    </div>
</nav>
